<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>go-test-report</title>
    <style type="text/css">
        body {
            font-family: sans-serif;
            background-color: #f3f3f3;
            border-top: 2px #dee6e8 solid;
            margin: 0;
        }

        div.pageHeader span.projectTitle {
            font-family: serif;
            font-size: 2em;
            padding-left: 56px;
            padding-top: 80px;
            display: block;
            color: #a5a5a5;
            text-shadow: 0 -1px 1px white;
        }

        div.pageHeader div.testStats {
            position: absolute;
            top: 7px;
            right: 52px;
            font-size: 0.8em;
            color: #a2a2a2;
        }

        div.pageHeader div.testStats span.indicator {
            font-size: 2em;
            position: relative;
            top: 5px;
            text-shadow: 0 1px 0 white;
        }

        div.pageHeader div.testStats span strong {
            margin-right: 16px;
        }

        div.pageHeader div.testStats span.total {
            border-right: 1px #afafaf dotted;
            background: #8298af;
        }

        div.pageHeader div.testStats span.passed {
            border-right: 1px #afafaf dotted;
            background: #6fca83;
        }

        div.pageHeader div.testStats span.skipped {
            background: #bababa;
        }

        div.pageHeader div.testStats span.failed {
            background: #ff7676;
        }

        div.pageHeader div.testStats span {
            margin-right: 1px;
            height: 55px;
            padding: 20px 8px 18px;
            color: white;
        }

        div.pageHeader .testGroupsTitle {
            margin: 16px 32px 8px 40px;
            font-size: 0.9em;
            color: darkgrey;
            display: inline-block;
        }

        div.pageHeader .testExecutionDate {
            display: inline-block;
            position: absolute;
            right: 10px;
            margin: 14px 32px 8px 40px;
            color: #9e9e9e;
            font-size: 0.9em;
        }

        .testReportContainer {
            padding: 0 32px 32px 32px;
        }

        .cardContainer {
            padding: 16px 16px 16px;
            box-shadow: 0 4px 4px #d4d4d4;
            background-color: white;
        }

        #testResults {
            display: flex;
            flex-wrap: wrap;
        }

        .testResultGroup {
            width: 24px;
            height: 24px;
            background-color: #43c143;
            margin-left: 1px;
            margin-bottom: 1px;
            box-sizing: border-box;
        }

        .testResultGroup.selected {
            border: 1px white solid;
            background-color: black !important;
        }

        .testResultGroup.skipped {
            border: 2px gray solid;
        }

        .testResultGroup.failed {
            background-color: red;
        }

        .cardContainer.testGroupList,
        .cardContainer.testDetail {
            margin-top: 16px;
            padding: 16px;
        }

        .cardContainer.testGroupList {
            color: #9c9c9c;
            padding: 0;
        }

        .cardContainer.testGroupList .testGroupRow {
            cursor: default;
            border-bottom: 1px #dadada dotted;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus {
            font-size: 1.2em;
            font-weight: bold;
            color: #139e13;
            pointer-events: none;
            display: inline-block;
            overflow: hidden;
            float: left;
            padding-top: 10px;
            padding-left: 20px;
            padding-right: 12px;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus.skipped {
            color: gray;
        }

        .cardContainer.testGroupList .testGroupRow span.testStatus.failed {
            color: red;
        }

        .cardContainer.testGroupList .testGroupRow span.testTitle {
            font-size: 0.9em;
            padding: 12px 0 10px;
            display: inline-block;
            pointer-events: none;
            color: #525252;
            text-overflow: ellipsis;
            overflow: hidden;
            width: calc(100% - 110px);
        }

        .cardContainer.testGroupList .testGroupRow span.testDuration {
            pointer-events: none;
        }

        .cardContainer.testGroupList .testGroupRow {
            position: relative;
            border-left: 4px #43c143 solid;
        }

        .cardContainer.testGroupList .testGroupRow.skipped {
            color: gray;
            border-left: 4px gray solid;
        }

        .cardContainer.testGroupList .testGroupRow.failed {
            color: red;
            border-left: 4px red solid;
        }

        .cardContainer.testGroupList .testGroupRow:hover {
            background-color: #fffaea;
            transition: 0.250s;
        }

        .cardContainer .testOutput {
            padding: 8px 16px 24px 16px;
        }

        .cardContainer .console {
            display: block;
            font-family: monospace;
            padding: 10px;
            background-color: #424242;
            color: #1aff00;
            border-bottom: 1px #1aff00 dotted;
            overflow: auto;
            font-size: 1.1em;
        }

        .cardContainer .testOutput .testDetail {
            border-bottom: 1px #d0d0d0 solid;
            padding: 16px;
            background-color: #e6e6e6;
            border-radius: 0 0 4px 4px;
            color: dimgrey;
            font-size: 0.8em;
        }

        .cardContainer .console.skipped{
            color: #d9d9d9;
        }

        .cardContainer .console.failed {
            color: #ffb2b2;
        }

        .cardContainer .testDuration {
            position: absolute;
            top: 5px;
            right: 8px;
            text-align: right;
            padding-right: 8px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<div class="pageHeader">
    <span class="projectTitle">go-test-report</span>
    <div class="testStats">
        <span class="total"><span class="indicator">&boxbox;</span> Total: <strong>12</strong>Duration: <strong>7ms</strong>
        </span><span class="passed"><span class="indicator">&check;</span> Passed: <strong>12</strong>
        </span><span class="skipped"><span class="indicator">&dash;</span> Skipped: <strong>0</strong>
        </span><span class="failed"><span class="indicator">&cross;</span> Failed: <strong>0</strong>
        </span>
    </div>
    <span class="testGroupsTitle">Test Groups:</span>
    <span class="testExecutionDate">April 16, 2025 16:46:24</span>
</div>
<div class="testReportContainer">
    <div class="cardContainer">
        <div id="testResults">
            
                <div class="testResultGroup  " id="0"></div>
            
        </div>
    </div>
    <div class="cardContainer testGroupList" id="testGroupList"></div>
</div>
<script type="application/javascript">
    /**
 * @typedef TestStatus
 * @property {string} TestName
 * @property {string} Package
 * @property {number} ElapsedTime
 * @property {Array.<string>} Output
 * @property {boolean} Passed
 * @property {boolean} Skipped
 */
class TestStatus {}

/**
 * @typedef TestGroupData
 * @type {object}
 * @property {string} FailureIndicator
 * @property {string} SkippedIndicator
 * @property {Array.<TestStatus>}
 */
class TestGroupData {}

/**
 * @typedef TestResults
 * @type {Array.<TestGroupData>}
 */
class TestResults extends Array {}

/**
 * @typedef SelectedItems
 * @property {HTMLElement|EventTarget} testResults
 * @property {String} selectedTestGroupColor
 */
class SelectedItems {}

/**
 * @typedef GoTestReportElements
 * @property {TestResults} data
 * @property {HTMLElement} testResultsElem
 * @property {HTMLElement} testGroupListElem
 */
class GoTestReportElements {}


/**
 * Main entry point for GoTestReport.
 * @param {GoTestReportElements} elements
 * @returns {{testResultsClickHandler: testResultsClickHandler}}
 * @constructor
 */
window.GoTestReport = function (elements) {
  const /**@type {SelectedItems}*/ selectedItems = {
    testResults: null,
    selectedTestGroupColor: null
  }

  function addEventData(event) {
    if (event.data == null) {
      event.data = {target: event.target}
    }
    return event
  }


  const goTestReport = {
    /**
     * Invoked when a user clicks on one of the test group div elements.
     * @param {HTMLElement} target The element associated with the test group.
     * @param {boolean} shiftKey If pressed, all of test detail associated to the test group is shown.
     * @param {TestResults} data
     * @param {SelectedItems} selectedItems
     * @param {function(target: Element, data: TestResults)} testGroupListHandler
     */
    testResultsClickHandler: function (target,
                                       shiftKey,
                                       data,
                                       selectedItems,
                                       testGroupListHandler) {

      if (target.classList.contains('testResultGroup') === false) {
        return
      }
      if (selectedItems.testResults != null) {
        let testResultsElement = /**@type {HTMLElement}*/ selectedItems.testResults
        testResultsElement.classList.remove("selected")
        testResultsElement.style.backgroundColor = selectedItems.selectedTestGroupColor
      }
      const testGroupId = /**@type {number}*/ target.id
      if ((target.id === undefined)
        || (data[testGroupId] === undefined)
        || (data[testGroupId]['TestResults'] === undefined)) {
        return
      }
      const testResults = /**@type {TestResults}*/ data[testGroupId]['TestResults']
      let testGroupList = /**@type {string}*/ ''
      selectedItems.selectedTestGroupColor = getComputedStyle(target).getPropertyValue('background-color')
      selectedItems.testResults = target
      target.classList.add("selected")
      for (let i = 0; i < testResults.length; i++) {
        const testResult = /**@type {TestGroupData}*/ testResults[i]
        const testPassed = /**@type {boolean}*/ testResult.Passed
        const testSkipped = /**@type {boolean}*/ testResult.Skipped
        const testPassedStatus = /**@type {string}*/ (testPassed) ? '' : (testSkipped ? 'skipped' : 'failed')
        const testId = /**@type {string}*/ target.attributes['id'].value
        testGroupList += `<div class="testGroupRow ${testPassedStatus}" data-groupid="${testId}" data-index="${i}">
        <span class="testStatus ${testPassedStatus}">${(testPassed) ? '&check' : (testSkipped ? '&dash' : '&cross')};</span>
        <span class="testTitle">${testResult.TestName}</span>
        <span class="testDuration"><span>${testResult.ElapsedTime}s </span>⏱</span>
      </div>`
      }
      const testGroupListElem = elements.testGroupListElem
      testGroupListElem.innerHTML = ''
      testGroupListElem.innerHTML = testGroupList

      if (shiftKey) {
        testGroupListElem.querySelectorAll('.testGroupRow')
                         .forEach((elem) => testGroupListHandler(elem, data))
      } else if (testResults.length === 1) {
        testGroupListHandler(testGroupListElem.querySelector('.testGroupRow'), data)
      }
    },

    /**
     *
     * @param {Element} target
     * @param {TestResults} data
     */
    testGroupListHandler: function (target, data) {
      const attribs = target['attributes']
      if (attribs.hasOwnProperty('data-groupid')) {
        const groupId = /**@type {number}*/ attribs['data-groupid'].value
        const testIndex = /**@type {number}*/ attribs['data-index'].value
        const testStatus = /**@type {TestStatus}*/ data[groupId]['TestResults'][testIndex]
        const testOutputDiv = /**@type {HTMLDivElement}*/ target.querySelector('div.testOutput')

        if (testOutputDiv == null) {
          const testOutputDiv = document.createElement('div')
          testOutputDiv.classList.add('testOutput')
          const consolePre = document.createElement('pre')
          consolePre.classList.add('console')
          const testDetailDiv = document.createElement('div')
          testDetailDiv.classList.add('testDetail')
          const packageNameDiv = document.createElement('div')
          packageNameDiv.classList.add('package')
          packageNameDiv.innerHTML = `<strong>Package:</strong> ${testStatus.Package}`
          const testFileNameDiv = document.createElement('div')
          testFileNameDiv.classList.add('filename')
          if (testStatus.TestFileName.trim() === "") {
            testFileNameDiv.innerHTML = `<strong>Filename:</strong> n/a &nbsp;&nbsp;`
          } else {
            testFileNameDiv.innerHTML = `<strong>Filename:</strong> ${testStatus.TestFileName} &nbsp;&nbsp;`
            testFileNameDiv.innerHTML += `<strong>Line:</strong> ${testStatus.TestFunctionDetail.Line} `
            testFileNameDiv.innerHTML += `<strong>Col:</strong> ${testStatus.TestFunctionDetail.Col}`
          }
          testDetailDiv.insertAdjacentElement('beforeend', packageNameDiv)
          testDetailDiv.insertAdjacentElement('beforeend', testFileNameDiv)
          testOutputDiv.insertAdjacentElement('afterbegin', consolePre)
          testOutputDiv.insertAdjacentElement('beforeend', testDetailDiv)
          target.insertAdjacentElement('beforeend', testOutputDiv)

          if (testStatus.Passed) {
            consolePre.classList.remove('skipped')
            consolePre.classList.remove('failed')
          } else if (testStatus.Skipped) {
            consolePre.classList.add('skipped')
            consolePre.classList.remove('failed')
          } else {
            consolePre.classList.remove('skipped')
            consolePre.classList.add('failed')
          }
          consolePre.textContent = testStatus.Output.join('')
        } else {
          testOutputDiv.remove()
        }
      }
    }
  }

  //+------------------------+
  //|    setup DOM events    |
  //+------------------------+
  elements.testResultsElem
          .addEventListener('click', event =>
            goTestReport.testResultsClickHandler(/**@type {HTMLElement}*/ addEventData(event).data.target,
                                                 event.shiftKey,
                                                 elements.data,
                                                 selectedItems,
                                                 goTestReport.testGroupListHandler))

  elements.testGroupListElem
          .addEventListener('click', event =>
            goTestReport.testGroupListHandler(/**@type {Element}*/ event.target,
                                              elements.data))

  return goTestReport
}


    

    const data = [{"FailureIndicator":"","SkippedIndicator":"","TestResults":[{"TestName":"TestCreateDuplicateLabFails","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":19.98,"Output":["","=== RUN   TestCreateDuplicateLabFails\n","    labs_test.go:90: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:90: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:90:   Content-Type: application/json\n","    labs_test.go:90: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:90: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 38.406788ms\n","    labs_test.go:90: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:90:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:90:   Date: Wed, 16 Apr 2025 14:40:36 GMT\n","    labs_test.go:90:   Content-Length: 181\n","    labs_test.go:90: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1MzcxLCJpYXQiOjE3NDQ4MTQ0MzZ9.iuNRCqV0Mc8WXnnnib93BYDK_bBtw_0erkJr189GpBA\"\n","        }\n","        ---\n","    labs_test.go:90: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:90: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:90: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:90:   Content-Type: application/json\n","    labs_test.go:90: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:90: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 29.713278ms\n","    labs_test.go:90: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:90:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:90:   Date: Wed, 16 Apr 2025 14:40:36 GMT\n","    labs_test.go:90:   Content-Length: 181\n","    labs_test.go:90: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1MzcxLCJpYXQiOjE3NDQ4MTQ0MzZ9.0rzNATaaizIkUeI-9HjC75alxR25L4S-GgFA5K2xgBE\"\n","        }\n","        ---\n","    labs_test.go:90: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:90: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-f2xen (as test)\n","    labs_test.go:90: Attempting to create/reconfigure lab 'gotest-eph-f2xen'...\n","    labs_test.go:90: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:90: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:90:   Authorization: Bearer ********\n","    labs_test.go:90:   Content-Type: application/json\n","    labs_test.go:90: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-f2xen\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:90: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 17.279108603s\n","    labs_test.go:90: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:90:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:90:   Date: Wed, 16 Apr 2025 14:40:54 GMT\n","    labs_test.go:90:   Content-Length: 892\n","    labs_test.go:90: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-f2xen\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-f2xen\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-f2xen/gotest-eph-f2xen.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-f2xen/gotest-eph-f2xen.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-f2xen-srl1\\\",\\n      \\\"container_id\\\": \\\"881fab305a89\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:90: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:90: Lab 'gotest-eph-f2xen' create/reconfigure request returned Status OK (200).\n","    labs_test.go:90:   `-\u003e [SETUP] Lab 'gotest-eph-f2xen' created successfully.\n","    labs_test.go:90:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:92: [TEST] Attempting to create duplicate lab 'gotest-eph-f2xen' (expecting 409).\n","    labs_test.go:96: Attempting to create/reconfigure lab 'gotest-eph-f2xen'...\n","    labs_test.go:96: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:96: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:96:   Authorization: Bearer ********\n","    labs_test.go:96:   Content-Type: application/json\n","    labs_test.go:96: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-f2xen\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:96: \u003c\u003c\u003c Response Received: Status 409 (Conflict) from POST http://127.0.0.1:8080/api/v1/labs in 35.398464ms\n","    labs_test.go:96: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:96:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:96:   Date: Wed, 16 Apr 2025 14:40:55 GMT\n","    labs_test.go:96:   Content-Length: 103\n","    labs_test.go:96: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"error\": \"Lab 'gotest-eph-f2xen' already exists. Use 'reconfigure=true' query parameter to overwrite.\"\n","        }\n","        ---\n","    labs_test.go:96: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:96: Lab 'gotest-eph-f2xen' create/reconfigure request returned Status 409.\n","    labs_test.go:107:   `-\u003e Correctly received status 409 (Conflict) when creating duplicate lab.\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-f2xen (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-f2xen' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-f2xen?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-f2xen?cleanup=true in 598.791613ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:40:55 GMT\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-f2xen' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-f2xen?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-f2xen' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-f2xen' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestCreateDuplicateLabFails (19.98s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":89,"Col":1}},{"TestName":"TestInspectCreatedLab","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":20.25,"Output":["","=== RUN   TestInspectCreatedLab\n","    labs_test.go:62: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:62: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:62:   Content-Type: application/json\n","    labs_test.go:62: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:62: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 46.403418ms\n","    labs_test.go:62: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:62:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:62:   Date: Wed, 16 Apr 2025 14:40:16 GMT\n","    labs_test.go:62:   Content-Length: 181\n","    labs_test.go:62: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1MzUxLCJpYXQiOjE3NDQ4MTQ0MTZ9.uA5tl0UCLPcvfW660yuxbNIw5V6QvuCee193oilPIVY\"\n","        }\n","        ---\n","    labs_test.go:62: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:62: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:62: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:62:   Content-Type: application/json\n","    labs_test.go:62: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:62: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 32.878092ms\n","    labs_test.go:62: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:62:   Date: Wed, 16 Apr 2025 14:40:16 GMT\n","    labs_test.go:62:   Content-Length: 181\n","    labs_test.go:62:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:62: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1MzUxLCJpYXQiOjE3NDQ4MTQ0MTZ9.yw0HFe8_VRBWuuOhj9pP121IEHD_D1knenlCpOLNOUI\"\n","        }\n","        ---\n","    labs_test.go:62: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:62: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-034z1 (as test)\n","    labs_test.go:62: Attempting to create/reconfigure lab 'gotest-eph-034z1'...\n","    labs_test.go:62: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:62: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:62:   Authorization: Bearer ********\n","    labs_test.go:62:   Content-Type: application/json\n","    labs_test.go:62: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-034z1\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:62: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 17.52244105s\n","    labs_test.go:62: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:62:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:62:   Date: Wed, 16 Apr 2025 14:40:34 GMT\n","    labs_test.go:62:   Content-Length: 892\n","    labs_test.go:62: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-034z1\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-034z1\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-034z1/gotest-eph-034z1.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-034z1/gotest-eph-034z1.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-034z1-srl1\\\",\\n      \\\"container_id\\\": \\\"0e37d886fddc\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:62: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:62: Lab 'gotest-eph-034z1' create/reconfigure request returned Status OK (200).\n","    labs_test.go:62:   `-\u003e [SETUP] Lab 'gotest-eph-034z1' created successfully.\n","    labs_test.go:62:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:64: [TEST] Inspecting details for lab 'gotest-eph-034z1'.\n","    labs_test.go:66: \u003e\u003e\u003e Request Start: GET http://127.0.0.1:8080/api/v1/labs/gotest-eph-034z1\n","    labs_test.go:66: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:66:   Authorization: Bearer ********\n","    labs_test.go:66:   Content-Type: application/json\n","    labs_test.go:66: \u003e\u003e\u003e Request Body: (empty)\n","    labs_test.go:66: \u003c\u003c\u003c Response Received: Status 200 (OK) from GET http://127.0.0.1:8080/api/v1/labs/gotest-eph-034z1 in 52.447397ms\n","    labs_test.go:66: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:66:   Date: Wed, 16 Apr 2025 14:40:35 GMT\n","    labs_test.go:66:   Content-Length: 440\n","    labs_test.go:66:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:66: \u003c\u003c\u003c Response Body:\n","        ---\n","        [{\"name\":\"clab-gotest-eph-034z1-srl1\",\"container_id\":\"0e37d886fddc\",\"image\":\"ghcr.io/nokia/srlinux\",\"kind\":\"nokia_srlinux\",\"state\":\"running\",\"status\":\"Up 17 seconds\",\"ipv4_address\":\"172.20.20.2/24\",\"ipv6_address\":\"3fff:172:20:20::2/64\",\"lab_name\":\"gotest-eph-034z1\",\"labPath\":\"/home/test/.clab/gotest-eph-034z1/gotest-eph-034z1.clab.yml\",\"absLabPath\":\"/home/test/.clab/gotest-eph-034z1/gotest-eph-034z1.clab.yml\",\"group\":\"\",\"owner\":\"test\"}]\n","        ---\n","    labs_test.go:66: \u003c\u003c\u003c Response End: GET http://127.0.0.1:8080/api/v1/labs/gotest-eph-034z1\n","    labs_test.go:85:   `-\u003e Inspection successful for 'gotest-eph-034z1'.\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-034z1 (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-034z1' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-034z1?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-034z1?cleanup=true in 596.571522ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:40:35 GMT\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-034z1' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-034z1?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-034z1' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-034z1' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestInspectCreatedLab (20.25s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":61,"Col":1}},{"TestName":"TestInvalidLogin","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":0,"Output":["","=== RUN   TestInvalidLogin\n","    auth_test.go:39: [TEST] Attempting invalid login (wrong user/pass).\n","    auth_test.go:46: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    auth_test.go:46: \u003e\u003e\u003e Request Headers:\n","    auth_test.go:46:   Content-Type: application/json\n","    auth_test.go:46: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"nonexistent_user_!@#$\"\n","        }\n","        ---\n","    auth_test.go:46: \u003c\u003c\u003c Response Received: Status 401 (Unauthorized) from POST http://127.0.0.1:8080/login in 2.194471ms\n","    auth_test.go:46: \u003c\u003c\u003c Response Headers:\n","    auth_test.go:46:   Content-Length: 40\n","    auth_test.go:46:   Content-Type: application/json; charset=utf-8\n","    auth_test.go:46:   Date: Wed, 16 Apr 2025 14:39:55 GMT\n","    auth_test.go:46: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"error\": \"Invalid username or password\"\n","        }\n","        ---\n","    auth_test.go:46: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    auth_test.go:53:   `-\u003e Received status 401. Asserting it's 401.\n","    auth_test.go:68:   `-\u003e Invalid login test completed.\n","--- PASS: TestInvalidLogin (0.00s)",""],"Passed":true,"Skipped":false,"TestFileName":"auth_test.go","TestFunctionDetail":{"Line":38,"Col":1}},{"TestName":"TestListLabsAPIUserFilters","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":42.58,"Output":["","=== RUN   TestListLabsAPIUserFilters\n","    labs_test.go:254: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:254: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:254:   Content-Type: application/json\n","    labs_test.go:254: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:254: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 36.766273ms\n","    labs_test.go:254: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:254:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:254:   Date: Wed, 16 Apr 2025 14:43:28 GMT\n","    labs_test.go:254:   Content-Length: 181\n","    labs_test.go:254: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1NTQzLCJpYXQiOjE3NDQ4MTQ2MDh9.yU9dMQpSnBYR3GJCviMeAesTF59WfVb5PerB7kqSvTU\"\n","        }\n","        ---\n","    labs_test.go:254: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:254: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:254: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:254:   Content-Type: application/json\n","    labs_test.go:254: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:254: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 30.100812ms\n","    labs_test.go:254: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:254:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:254:   Date: Wed, 16 Apr 2025 14:43:28 GMT\n","    labs_test.go:254:   Content-Length: 181\n","    labs_test.go:254: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NTQzLCJpYXQiOjE3NDQ4MTQ2MDh9.QyJzDkDgVP_BT2o9zgdfh6AN7gpIFg72W4BiXXl335A\"\n","        }\n","        ---\n","    labs_test.go:254: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:254: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-5b7ah (as test)\n","    labs_test.go:254: Attempting to create/reconfigure lab 'gotest-eph-5b7ah'...\n","    labs_test.go:254: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:254: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:254:   Authorization: Bearer ********\n","    labs_test.go:254:   Content-Type: application/json\n","    labs_test.go:254: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-5b7ah\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:254: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 17.022507531s\n","    labs_test.go:254: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:254:   Date: Wed, 16 Apr 2025 14:43:45 GMT\n","    labs_test.go:254:   Content-Length: 892\n","    labs_test.go:254:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:254: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-5b7ah\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-5b7ah\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-5b7ah/gotest-eph-5b7ah.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-5b7ah/gotest-eph-5b7ah.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-5b7ah-srl1\\\",\\n      \\\"container_id\\\": \\\"fb6deeecb900\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:254: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:254: Lab 'gotest-eph-5b7ah' create/reconfigure request returned Status OK (200).\n","    labs_test.go:254:   `-\u003e [SETUP] Lab 'gotest-eph-5b7ah' created successfully.\n","    labs_test.go:254:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:255: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:255: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:255:   Content-Type: application/json\n","    labs_test.go:255: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:255: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 36.502948ms\n","    labs_test.go:255: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:255:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:255:   Date: Wed, 16 Apr 2025 14:43:46 GMT\n","    labs_test.go:255:   Content-Length: 181\n","    labs_test.go:255: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NTYxLCJpYXQiOjE3NDQ4MTQ2MjZ9.s7VUX5bbAJPuxGQup8wnUuSip-rRsfKJu6EKGUcZi4A\"\n","        }\n","        ---\n","    labs_test.go:255: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:255: ---\u003e [SETUP-SU] Creating superuser ephemeral lab: gotest-su-eph-4q9qk\n","    labs_test.go:255: Attempting to create/reconfigure lab 'gotest-su-eph-4q9qk'...\n","    labs_test.go:255: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:255: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:255:   Authorization: Bearer ********\n","    labs_test.go:255:   Content-Type: application/json\n","    labs_test.go:255: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-su-eph-4q9qk\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:255: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 20.557682431s\n","    labs_test.go:255: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:255:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:255:   Date: Wed, 16 Apr 2025 14:44:06 GMT\n","    labs_test.go:255:   Content-Length: 903\n","    labs_test.go:255: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-su-eph-4q9qk\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-su-eph-4q9qk\\\",\\n      \\\"labPath\\\": \\\"/root/.clab/gotest-su-eph-4q9qk/gotest-su-eph-4q9qk.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/root/.clab/gotest-su-eph-4q9qk/gotest-su-eph-4q9qk.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-su-eph-4q9qk-srl1\\\",\\n      \\\"container_id\\\": \\\"e74bb0274392\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 19 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.3/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::3/64\\\",\\n      \\\"owner\\\": \\\"root\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:255: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:255: Lab 'gotest-su-eph-4q9qk' create/reconfigure request returned Status OK (200).\n","    labs_test.go:255:   `-\u003e [SETUP-SU] Lab 'gotest-su-eph-4q9qk' created successfully.\n","    labs_test.go:255:   `-\u003e [SETUP-SU] Pausing for 1s after lab creation...\n","    labs_test.go:257: [TEST] Verifying apiuser 'test' sees 'gotest-eph-5b7ah' but NOT 'gotest-su-eph-4q9qk'.\n","    labs_test.go:262: \u003e\u003e\u003e Request Start: GET http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:262: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:262:   Content-Type: application/json\n","    labs_test.go:262:   Authorization: Bearer ********\n","    labs_test.go:262: \u003e\u003e\u003e Request Body: (empty)\n","    labs_test.go:262: \u003c\u003c\u003c Response Received: Status 200 (OK) from GET http://127.0.0.1:8080/api/v1/labs in 36.521918ms\n","    labs_test.go:262: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:262:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:262:   Date: Wed, 16 Apr 2025 14:44:07 GMT\n","    labs_test.go:262:   Content-Length: 461\n","    labs_test.go:262: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"gotest-eph-5b7ah\": [\n","            {\n","              \"absLabPath\": \"/home/test/.clab/gotest-eph-5b7ah/gotest-eph-5b7ah.clab.yml\",\n","              \"container_id\": \"fb6deeecb900\",\n","              \"group\": \"\",\n","              \"image\": \"ghcr.io/nokia/srlinux\",\n","              \"ipv4_address\": \"172.20.20.2/24\",\n","              \"ipv6_address\": \"3fff:172:20:20::2/64\",\n","              \"kind\": \"nokia_srlinux\",\n","              \"labPath\": \"/home/test/.clab/gotest-eph-5b7ah/gotest-eph-5b7ah.clab.yml\",\n","              \"lab_name\": \"gotest-eph-5b7ah\",\n","              \"name\": \"clab-gotest-eph-5b7ah-srl1\",\n","              \"owner\": \"test\",\n","              \"state\": \"running\",\n","              \"status\": \"Up 39 seconds\"\n","            }\n","          ]\n","        }\n","        ---\n","    labs_test.go:262: \u003c\u003c\u003c Response End: GET http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:294:   `-\u003e Apiuser list filtering check successful.\n","    main_test.go:294: \u003c--- [TEARDOWN-SU] Cleaning up superuser ephemeral lab: gotest-su-eph-4q9qk\n","    main_test.go:295: Attempting to destroy lab 'gotest-su-eph-4q9qk' (cleanup=true)...\n","    main_test.go:295: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-4q9qk?cleanup=true\n","    main_test.go:295: \u003e\u003e\u003e Request Headers:\n","    main_test.go:295:   Authorization: Bearer ********\n","    main_test.go:295:   Content-Type: application/json\n","    main_test.go:295: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:295: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-4q9qk?cleanup=true in 303.55711ms\n","    main_test.go:295: \u003c\u003c\u003c Response Headers:\n","    main_test.go:295:   Content-Type: application/json; charset=utf-8\n","    main_test.go:295:   Date: Wed, 16 Apr 2025 14:44:08 GMT\n","    main_test.go:295:   Content-Length: 62\n","    main_test.go:295: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-su-eph-4q9qk' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:295: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-4q9qk?cleanup=true\n","    main_test.go:295: Lab 'gotest-su-eph-4q9qk' destroy request returned Status OK (200).\n","    main_test.go:299:   `-\u003e [TEARDOWN-SU] Lab 'gotest-su-eph-4q9qk' destroy request completed.\n","    main_test.go:301:   `-\u003e [TEARDOWN-SU] Pausing for 1s after cleanup...\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-5b7ah (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-5b7ah' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-5b7ah?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-5b7ah?cleanup=true in 554.023714ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:44:09 GMT\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-5b7ah' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-5b7ah?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-5b7ah' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-5b7ah' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestListLabsAPIUserFilters (42.58s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":252,"Col":1}},{"TestName":"TestListLabsIncludesCreated","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":21.04,"Output":["","=== RUN   TestListLabsIncludesCreated\n","    labs_test.go:33: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:33: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:33:   Content-Type: application/json\n","    labs_test.go:33: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:33: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 29.371762ms\n","    labs_test.go:33: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:33:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:33:   Date: Wed, 16 Apr 2025 14:39:55 GMT\n","    labs_test.go:33:   Content-Length: 181\n","    labs_test.go:33: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1MzMwLCJpYXQiOjE3NDQ4MTQzOTV9.yf8yV3mom92y2YbvrgHrnI6JqBCRFvXldEFs0BfyQ8E\"\n","        }\n","        ---\n","    labs_test.go:33: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:33: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:33: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:33:   Content-Type: application/json\n","    labs_test.go:33: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:33: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 32.742186ms\n","    labs_test.go:33: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:33:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:33:   Date: Wed, 16 Apr 2025 14:39:55 GMT\n","    labs_test.go:33:   Content-Length: 181\n","    labs_test.go:33: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1MzMwLCJpYXQiOjE3NDQ4MTQzOTV9.nn0kmM9HjMzg_1bIQMC2OTuMkP6gdDKs92Nf7hVm0eU\"\n","        }\n","        ---\n","    labs_test.go:33: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:33: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-0rb9r (as test)\n","    labs_test.go:33: Attempting to create/reconfigure lab 'gotest-eph-0rb9r'...\n","    labs_test.go:33: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:33: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:33:   Authorization: Bearer ********\n","    labs_test.go:33:   Content-Type: application/json\n","    labs_test.go:33: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-0rb9r\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:33: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 18.373059812s\n","    labs_test.go:33: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:33:   Content-Length: 892\n","    labs_test.go:33:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:33:   Date: Wed, 16 Apr 2025 14:40:13 GMT\n","    labs_test.go:33: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-0rb9r\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-0rb9r\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-0rb9r/gotest-eph-0rb9r.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-0rb9r/gotest-eph-0rb9r.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-0rb9r-srl1\\\",\\n      \\\"container_id\\\": \\\"20745028ef0b\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 17 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:33: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:33: Lab 'gotest-eph-0rb9r' create/reconfigure request returned Status OK (200).\n","    labs_test.go:33:   `-\u003e [SETUP] Lab 'gotest-eph-0rb9r' created successfully.\n","    labs_test.go:33:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:35: [TEST] Verifying lab 'gotest-eph-0rb9r' is in the list for the owner (test).\n","    labs_test.go:38: \u003e\u003e\u003e Request Start: GET http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:38: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:38:   Authorization: Bearer ********\n","    labs_test.go:38:   Content-Type: application/json\n","    labs_test.go:38: \u003e\u003e\u003e Request Body: (empty)\n","    labs_test.go:38: \u003c\u003c\u003c Response Received: Status 200 (OK) from GET http://127.0.0.1:8080/api/v1/labs in 34.011541ms\n","    labs_test.go:38: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:38:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:38:   Date: Wed, 16 Apr 2025 14:40:14 GMT\n","    labs_test.go:38:   Content-Length: 461\n","    labs_test.go:38: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"gotest-eph-0rb9r\": [\n","            {\n","              \"absLabPath\": \"/home/test/.clab/gotest-eph-0rb9r/gotest-eph-0rb9r.clab.yml\",\n","              \"container_id\": \"20745028ef0b\",\n","              \"group\": \"\",\n","              \"image\": \"ghcr.io/nokia/srlinux\",\n","              \"ipv4_address\": \"172.20.20.2/24\",\n","              \"ipv6_address\": \"3fff:172:20:20::2/64\",\n","              \"kind\": \"nokia_srlinux\",\n","              \"labPath\": \"/home/test/.clab/gotest-eph-0rb9r/gotest-eph-0rb9r.clab.yml\",\n","              \"lab_name\": \"gotest-eph-0rb9r\",\n","              \"name\": \"clab-gotest-eph-0rb9r-srl1\",\n","              \"owner\": \"test\",\n","              \"state\": \"running\",\n","              \"status\": \"Up 18 seconds\"\n","            }\n","          ]\n","        }\n","        ---\n","    labs_test.go:38: \u003c\u003c\u003c Response End: GET http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:57:   `-\u003e Lab 'gotest-eph-0rb9r' found in list.\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-0rb9r (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-0rb9r' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-0rb9r?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-0rb9r?cleanup=true in 563.434984ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:40:15 GMT\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-0rb9r' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-0rb9r?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-0rb9r' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-0rb9r' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestListLabsIncludesCreated (21.04s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":32,"Col":1}},{"TestName":"TestListLabsSuperuser","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":39.46,"Output":["","=== RUN   TestListLabsSuperuser\n","    labs_test.go:208: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:208: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:208:   Content-Type: application/json\n","    labs_test.go:208: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:208: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 45.087422ms\n","    labs_test.go:208: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:208:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:208:   Date: Wed, 16 Apr 2025 14:42:48 GMT\n","    labs_test.go:208:   Content-Length: 181\n","    labs_test.go:208: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1NTAzLCJpYXQiOjE3NDQ4MTQ1Njh9.7dWR9pBN9t2Er48POClkLzSUrurN6OVdy3kx_jNpwuk\"\n","        }\n","        ---\n","    labs_test.go:208: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:208: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:208: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:208:   Content-Type: application/json\n","    labs_test.go:208: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:208: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 29.848572ms\n","    labs_test.go:208: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:208:   Date: Wed, 16 Apr 2025 14:42:48 GMT\n","    labs_test.go:208:   Content-Length: 181\n","    labs_test.go:208:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:208: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NTAzLCJpYXQiOjE3NDQ4MTQ1Njh9.ZRNNHvDfvdEmBI-7EO16scQNcKNTaok329Q2CmdDOjM\"\n","        }\n","        ---\n","    labs_test.go:208: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:208: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-cjp7l (as test)\n","    labs_test.go:208: Attempting to create/reconfigure lab 'gotest-eph-cjp7l'...\n","    labs_test.go:208: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:208: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:208:   Authorization: Bearer ********\n","    labs_test.go:208:   Content-Type: application/json\n","    labs_test.go:208: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-cjp7l\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:208: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 17.390407979s\n","    labs_test.go:208: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:208:   Date: Wed, 16 Apr 2025 14:43:06 GMT\n","    labs_test.go:208:   Content-Length: 892\n","    labs_test.go:208:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:208: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-cjp7l\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-cjp7l\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-cjp7l/gotest-eph-cjp7l.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-cjp7l/gotest-eph-cjp7l.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-cjp7l-srl1\\\",\\n      \\\"container_id\\\": \\\"f07d98a2e1e8\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:208: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:208: Lab 'gotest-eph-cjp7l' create/reconfigure request returned Status OK (200).\n","    labs_test.go:208:   `-\u003e [SETUP] Lab 'gotest-eph-cjp7l' created successfully.\n","    labs_test.go:208:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:209: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:209: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:209:   Content-Type: application/json\n","    labs_test.go:209: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:209: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 38.836396ms\n","    labs_test.go:209: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:209:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:209:   Date: Wed, 16 Apr 2025 14:43:07 GMT\n","    labs_test.go:209:   Content-Length: 181\n","    labs_test.go:209: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NTIyLCJpYXQiOjE3NDQ4MTQ1ODd9.5YwpEjw-I9rtr1ejsFMnKi1juW5I6KcniEAwQcPHyxo\"\n","        }\n","        ---\n","    labs_test.go:209: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:209: ---\u003e [SETUP-SU] Creating superuser ephemeral lab: gotest-su-eph-hfr7e\n","    labs_test.go:209: Attempting to create/reconfigure lab 'gotest-su-eph-hfr7e'...\n","    labs_test.go:209: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:209: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:209:   Authorization: Bearer ********\n","    labs_test.go:209:   Content-Type: application/json\n","    labs_test.go:209: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-su-eph-hfr7e\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:209: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 16.981120731s\n","    labs_test.go:209: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:209:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:209:   Date: Wed, 16 Apr 2025 14:43:24 GMT\n","    labs_test.go:209:   Content-Length: 903\n","    labs_test.go:209: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-su-eph-hfr7e\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-su-eph-hfr7e\\\",\\n      \\\"labPath\\\": \\\"/root/.clab/gotest-su-eph-hfr7e/gotest-su-eph-hfr7e.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/root/.clab/gotest-su-eph-hfr7e/gotest-su-eph-hfr7e.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-su-eph-hfr7e-srl1\\\",\\n      \\\"container_id\\\": \\\"afb324a59989\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.3/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::3/64\\\",\\n      \\\"owner\\\": \\\"root\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:209: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:209: Lab 'gotest-su-eph-hfr7e' create/reconfigure request returned Status OK (200).\n","    labs_test.go:209:   `-\u003e [SETUP-SU] Lab 'gotest-su-eph-hfr7e' created successfully.\n","    labs_test.go:209:   `-\u003e [SETUP-SU] Pausing for 1s after lab creation...\n","    labs_test.go:211: [TEST] Verifying superuser sees labs 'gotest-eph-cjp7l' (owned by test) and 'gotest-su-eph-hfr7e' (owned by root).\n","    labs_test.go:216: \u003e\u003e\u003e Request Start: GET http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:216: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:216:   Authorization: Bearer ********\n","    labs_test.go:216:   Content-Type: application/json\n","    labs_test.go:216: \u003e\u003e\u003e Request Body: (empty)\n","    labs_test.go:216: \u003c\u003c\u003c Response Received: Status 200 (OK) from GET http://127.0.0.1:8080/api/v1/labs in 29.206876ms\n","    labs_test.go:216: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:216:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:216:   Date: Wed, 16 Apr 2025 14:43:25 GMT\n","    labs_test.go:216:   Content-Length: 932\n","    labs_test.go:216: \u003c\u003c\u003c Response Body: (truncated to 1024 bytes)\n","        ---\n","        {\n","          \"gotest-eph-cjp7l\": [\n","            {\n","              \"absLabPath\": \"/home/test/.clab/gotest-eph-cjp7l/gotest-eph-cjp7l.clab.yml\",\n","              \"container_id\": \"f07d98a2e1e8\",\n","              \"group\": \"\",\n","              \"image\": \"ghcr.io/nokia/srlinux\",\n","              \"ipv4_address\": \"172.20.20.2/24\",\n","              \"ipv6_address\": \"3fff:172:20:20::2/64\",\n","              \"kind\": \"nokia_srlinux\",\n","              \"labPath\": \"/home/test/.clab/gotest-eph-cjp7l/gotest-eph-cjp7l.clab.yml\",\n","              \"lab_name\": \"gotest-eph-cjp7l\",\n","              \"name\": \"clab-gotest-eph-cjp7l-srl1\",\n","              \"owner\": \"test\",\n","              \"state\": \"running\",\n","              \"status\": \"Up 35 seconds\"\n","            }\n","          ],\n","          \"gotest-su-eph-hfr7e\": [\n","            {\n","              \"absLabPath\": \"/root/.clab/gotest-su-eph-hfr7e/gotest-su-eph-hfr7e.clab.yml\",\n","              \"container_id\": \"afb324a59989\",\n","              \"group\": \"\",\n","              \"image\": \"ghcr.io/nokia/srlinux\",\n","              \"ipv4_address\": \"172.20.20.3/24\",\n","              \"ipv6_address\": \"3fff:172:20:20::3/64\",\n","              \"kind\": \"nokia_srlinux\",\n","              \"labPath\": \"/root/.clab/gotest-su-eph-hfr7e/gotest-su-eph-hfr7e.clab.yml\",\n","              \"lab_name\": \"gotest-su-\n","        ...[truncated]...\n","    labs_test.go:216: \u003c\u003c\u003c Response End: GET http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:248:   `-\u003e Superuser list check successful: Both labs found.\n","    main_test.go:294: \u003c--- [TEARDOWN-SU] Cleaning up superuser ephemeral lab: gotest-su-eph-hfr7e\n","    main_test.go:295: Attempting to destroy lab 'gotest-su-eph-hfr7e' (cleanup=true)...\n","    main_test.go:295: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-hfr7e?cleanup=true\n","    main_test.go:295: \u003e\u003e\u003e Request Headers:\n","    main_test.go:295:   Authorization: Bearer ********\n","    main_test.go:295:   Content-Type: application/json\n","    main_test.go:295: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:295: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-hfr7e?cleanup=true in 296.379937ms\n","    main_test.go:295: \u003c\u003c\u003c Response Headers:\n","    main_test.go:295:   Content-Type: application/json; charset=utf-8\n","    main_test.go:295:   Date: Wed, 16 Apr 2025 14:43:25 GMT\n","    main_test.go:295:   Content-Length: 62\n","    main_test.go:295: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-su-eph-hfr7e' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:295: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-hfr7e?cleanup=true\n","    main_test.go:295: Lab 'gotest-su-eph-hfr7e' destroy request returned Status OK (200).\n","    main_test.go:299:   `-\u003e [TEARDOWN-SU] Lab 'gotest-su-eph-hfr7e' destroy request completed.\n","    main_test.go:301:   `-\u003e [TEARDOWN-SU] Pausing for 1s after cleanup...\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-cjp7l (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-cjp7l' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-cjp7l?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-cjp7l?cleanup=true in 638.994236ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:43:27 GMT\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-cjp7l' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-cjp7l?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-cjp7l' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-cjp7l' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestListLabsSuperuser (39.46s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":206,"Col":1}},{"TestName":"TestLoginAPIUser","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":0.04,"Output":["","=== RUN   TestLoginAPIUser\n","    auth_test.go:26: [TEST] Attempting valid login for apiuser: test\n","    auth_test.go:27: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    auth_test.go:27: \u003e\u003e\u003e Request Headers:\n","    auth_test.go:27:   Content-Type: application/json\n","    auth_test.go:27: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    auth_test.go:27: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 37.171928ms\n","    auth_test.go:27: \u003c\u003c\u003c Response Headers:\n","    auth_test.go:27:   Date: Wed, 16 Apr 2025 14:39:55 GMT\n","    auth_test.go:27:   Content-Length: 181\n","    auth_test.go:27:   Content-Type: application/json; charset=utf-8\n","    auth_test.go:27: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1MzMwLCJpYXQiOjE3NDQ4MTQzOTV9.yf8yV3mom92y2YbvrgHrnI6JqBCRFvXldEFs0BfyQ8E\"\n","        }\n","        ---\n","    auth_test.go:27: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    auth_test.go:35:   `-\u003e Apiuser login successful, token received.\n","--- PASS: TestLoginAPIUser (0.04s)",""],"Passed":true,"Skipped":false,"TestFileName":"auth_test.go","TestFunctionDetail":{"Line":25,"Col":1}},{"TestName":"TestLoginSuperuser","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":0.04,"Output":["","=== RUN   TestLoginSuperuser\n","    auth_test.go:12: [TEST] Attempting valid login for superuser: root\n","    auth_test.go:13: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    auth_test.go:13: \u003e\u003e\u003e Request Headers:\n","    auth_test.go:13:   Content-Type: application/json\n","    auth_test.go:13: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    auth_test.go:13: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 37.095826ms\n","    auth_test.go:13: \u003c\u003c\u003c Response Headers:\n","    auth_test.go:13:   Content-Type: application/json; charset=utf-8\n","    auth_test.go:13:   Date: Wed, 16 Apr 2025 14:39:55 GMT\n","    auth_test.go:13:   Content-Length: 181\n","    auth_test.go:13: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1MzMwLCJpYXQiOjE3NDQ4MTQzOTV9.nn0kmM9HjMzg_1bIQMC2OTuMkP6gdDKs92Nf7hVm0eU\"\n","        }\n","        ---\n","    auth_test.go:13: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    auth_test.go:22:   `-\u003e Superuser login successful, token received.\n","--- PASS: TestLoginSuperuser (0.04s)",""],"Passed":true,"Skipped":false,"TestFileName":"auth_test.go","TestFunctionDetail":{"Line":11,"Col":1}},{"TestName":"TestReconfigureLabNonOwnerFails","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":19.42,"Output":["","=== RUN   TestReconfigureLabNonOwnerFails\n","    labs_test.go:144: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:144: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:144:   Content-Type: application/json\n","    labs_test.go:144: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:144: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 32.528522ms\n","    labs_test.go:144: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:144:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:144:   Date: Wed, 16 Apr 2025 14:41:41 GMT\n","    labs_test.go:144:   Content-Length: 181\n","    labs_test.go:144: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NDM2LCJpYXQiOjE3NDQ4MTQ1MDF9.ygUqCq6TQup8nyPUmdRvrg2BOy9T33ildsy98t85EL4\"\n","        }\n","        ---\n","    labs_test.go:144: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:144: ---\u003e [SETUP-SU] Creating superuser ephemeral lab: gotest-su-eph-q4cpu\n","    labs_test.go:144: Attempting to create/reconfigure lab 'gotest-su-eph-q4cpu'...\n","    labs_test.go:144: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:144: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:144:   Authorization: Bearer ********\n","    labs_test.go:144:   Content-Type: application/json\n","    labs_test.go:144: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-su-eph-q4cpu\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:144: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 16.754122737s\n","    labs_test.go:144: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:144:   Date: Wed, 16 Apr 2025 14:41:58 GMT\n","    labs_test.go:144:   Content-Length: 903\n","    labs_test.go:144:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:144: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-su-eph-q4cpu\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-su-eph-q4cpu\\\",\\n      \\\"labPath\\\": \\\"/root/.clab/gotest-su-eph-q4cpu/gotest-su-eph-q4cpu.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/root/.clab/gotest-su-eph-q4cpu/gotest-su-eph-q4cpu.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-su-eph-q4cpu-srl1\\\",\\n      \\\"container_id\\\": \\\"7a6414a3025e\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"root\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:144: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:144: Lab 'gotest-su-eph-q4cpu' create/reconfigure request returned Status OK (200).\n","    labs_test.go:144:   `-\u003e [SETUP-SU] Lab 'gotest-su-eph-q4cpu' created successfully.\n","    labs_test.go:144:   `-\u003e [SETUP-SU] Pausing for 1s after lab creation...\n","    labs_test.go:147: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:147: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:147:   Content-Type: application/json\n","    labs_test.go:147: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:147: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 43.238822ms\n","    labs_test.go:147: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:147:   Content-Length: 181\n","    labs_test.go:147:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:147:   Date: Wed, 16 Apr 2025 14:41:59 GMT\n","    labs_test.go:147: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1NDU0LCJpYXQiOjE3NDQ4MTQ1MTl9.RUOtF9p6EzNvScZkfULbbMuiAMqGglgfGq0Op_kTIhU\"\n","        }\n","        ---\n","    labs_test.go:147: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:151: [TEST] Attempting non-owner reconfigure on lab 'gotest-su-eph-q4cpu' by user 'test' (expecting 403).\n","    labs_test.go:155: Attempting to create/reconfigure lab 'gotest-su-eph-q4cpu'...\n","    labs_test.go:155: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true\n","    labs_test.go:155: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:155:   Content-Type: application/json\n","    labs_test.go:155:   Authorization: Bearer ********\n","    labs_test.go:155: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-su-eph-q4cpu\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:155: \u003c\u003c\u003c Response Received: Status 403 (Forbidden) from POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true in 26.635833ms\n","    labs_test.go:155: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:155:   Date: Wed, 16 Apr 2025 14:41:59 GMT\n","    labs_test.go:155:   Content-Length: 104\n","    labs_test.go:155:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:155: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"error\": \"Lab 'gotest-su-eph-q4cpu' exists but is owned by user 'root'. Reconfigure permission denied.\"\n","        }\n","        ---\n","    labs_test.go:155: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true\n","    labs_test.go:155: Lab 'gotest-su-eph-q4cpu' create/reconfigure request returned Status 403.\n","    labs_test.go:165:   `-\u003e Correctly received status 403 (Forbidden) when non-owner reconfiguring lab.\n","    main_test.go:294: \u003c--- [TEARDOWN-SU] Cleaning up superuser ephemeral lab: gotest-su-eph-q4cpu\n","    main_test.go:295: Attempting to destroy lab 'gotest-su-eph-q4cpu' (cleanup=true)...\n","    main_test.go:295: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-q4cpu?cleanup=true\n","    main_test.go:295: \u003e\u003e\u003e Request Headers:\n","    main_test.go:295:   Authorization: Bearer ********\n","    main_test.go:295:   Content-Type: application/json\n","    main_test.go:295: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:295: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-q4cpu?cleanup=true in 561.594882ms\n","    main_test.go:295: \u003c\u003c\u003c Response Headers:\n","    main_test.go:295:   Content-Type: application/json; charset=utf-8\n","    main_test.go:295:   Date: Wed, 16 Apr 2025 14:42:00 GMT\n","    main_test.go:295:   Content-Length: 62\n","    main_test.go:295: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-su-eph-q4cpu' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:295: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-su-eph-q4cpu?cleanup=true\n","    main_test.go:295: Lab 'gotest-su-eph-q4cpu' destroy request returned Status OK (200).\n","    main_test.go:299:   `-\u003e [TEARDOWN-SU] Lab 'gotest-su-eph-q4cpu' destroy request completed.\n","    main_test.go:301:   `-\u003e [TEARDOWN-SU] Pausing for 1s after cleanup...\n","--- PASS: TestReconfigureLabNonOwnerFails (19.42s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":142,"Col":1}},{"TestName":"TestReconfigureLabOwnerSucceeds","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":45.05,"Output":["","=== RUN   TestReconfigureLabOwnerSucceeds\n","    labs_test.go:119: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:119: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:119:   Content-Type: application/json\n","    labs_test.go:119: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:119: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 34.325827ms\n","    labs_test.go:119: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:119:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:119:   Date: Wed, 16 Apr 2025 14:40:56 GMT\n","    labs_test.go:119:   Content-Length: 181\n","    labs_test.go:119: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1MzkxLCJpYXQiOjE3NDQ4MTQ0NTZ9.vQK-sKkSFBX3Vo88NlEjbM_ZyVj6p100a3Eq-PuXjP8\"\n","        }\n","        ---\n","    labs_test.go:119: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:119: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:119: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:119:   Content-Type: application/json\n","    labs_test.go:119: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:119: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 29.849943ms\n","    labs_test.go:119: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:119:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:119:   Date: Wed, 16 Apr 2025 14:40:56 GMT\n","    labs_test.go:119:   Content-Length: 181\n","    labs_test.go:119: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1MzkxLCJpYXQiOjE3NDQ4MTQ0NTZ9.nMIlshEbB9HrWklKJmv2ETbdGb9m1DVuM3zF-s-95wI\"\n","        }\n","        ---\n","    labs_test.go:119: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:119: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-d8knz (as test)\n","    labs_test.go:119: Attempting to create/reconfigure lab 'gotest-eph-d8knz'...\n","    labs_test.go:119: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:119: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:119:   Content-Type: application/json\n","    labs_test.go:119:   Authorization: Bearer ********\n","    labs_test.go:119: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-d8knz\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:119: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 24.124631682s\n","    labs_test.go:119: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:119:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:119:   Date: Wed, 16 Apr 2025 14:41:20 GMT\n","    labs_test.go:119:   Content-Length: 892\n","    labs_test.go:119: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-d8knz\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-d8knz\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-d8knz/gotest-eph-d8knz.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-d8knz/gotest-eph-d8knz.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-d8knz-srl1\\\",\\n      \\\"container_id\\\": \\\"6fffea6088cb\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 23 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:119: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:119: Lab 'gotest-eph-d8knz' create/reconfigure request returned Status OK (200).\n","    labs_test.go:119:   `-\u003e [SETUP] Lab 'gotest-eph-d8knz' created successfully.\n","    labs_test.go:119:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:121: [TEST] Attempting to reconfigure owned lab 'gotest-eph-d8knz' (expecting 200).\n","    labs_test.go:125: Attempting to create/reconfigure lab 'gotest-eph-d8knz'...\n","    labs_test.go:125: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true\n","    labs_test.go:125: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:125:   Authorization: Bearer ********\n","    labs_test.go:125:   Content-Type: application/json\n","    labs_test.go:125: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-d8knz\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:125: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true in 17.27186969s\n","    labs_test.go:125: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:125:   Date: Wed, 16 Apr 2025 14:41:39 GMT\n","    labs_test.go:125:   Content-Length: 892\n","    labs_test.go:125:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:125: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-d8knz\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-d8knz\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-d8knz/gotest-eph-d8knz.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-d8knz/gotest-eph-d8knz.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-d8knz-srl1\\\",\\n      \\\"container_id\\\": \\\"c2d5c27f45dd\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 16 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:125: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true\n","    labs_test.go:125: Lab 'gotest-eph-d8knz' create/reconfigure request returned Status OK (200).\n","    labs_test.go:135:   `-\u003e Reconfigure successful.\n","    labs_test.go:138:   `-\u003e Pausing for stabilization...\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-d8knz (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-d8knz' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-d8knz?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-d8knz?cleanup=true in 583.088789ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:41:40 GMT\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-d8knz' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-d8knz?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-d8knz' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-d8knz' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestReconfigureLabOwnerSucceeds (45.05s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":118,"Col":1}},{"TestName":"TestReconfigureLabSuperuserSucceeds","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":47.4,"Output":["","=== RUN   TestReconfigureLabSuperuserSucceeds\n","    labs_test.go:178: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:178: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:178:   Content-Type: application/json\n","    labs_test.go:178: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test\"\n","        }\n","        ---\n","    labs_test.go:178: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 36.044969ms\n","    labs_test.go:178: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:178:   Date: Wed, 16 Apr 2025 14:42:01 GMT\n","    labs_test.go:178:   Content-Length: 181\n","    labs_test.go:178:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:178: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InRlc3QiLCJzdWIiOiJ0ZXN0IiwiZXhwIjo4ODE4NDU1NDU2LCJpYXQiOjE3NDQ4MTQ1MjF9.4v9kLXNVzI0gLWF-kraGPD71N1NS5tqMsbk1p89P_do\"\n","        }\n","        ---\n","    labs_test.go:178: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:178: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:178: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:178:   Content-Type: application/json\n","    labs_test.go:178: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:178: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 32.405067ms\n","    labs_test.go:178: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:178:   Content-Length: 181\n","    labs_test.go:178:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:178:   Date: Wed, 16 Apr 2025 14:42:01 GMT\n","    labs_test.go:178: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NDU2LCJpYXQiOjE3NDQ4MTQ1MjF9.06qgINZ57qQk2F_K82y7iuonAv3LYjnxxMHulYMwdqM\"\n","        }\n","        ---\n","    labs_test.go:178: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:178: ---\u003e [SETUP] Creating ephemeral lab: gotest-eph-go8zj (as test)\n","    labs_test.go:178: Attempting to create/reconfigure lab 'gotest-eph-go8zj'...\n","    labs_test.go:178: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:178: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:178:   Authorization: Bearer ********\n","    labs_test.go:178:   Content-Type: application/json\n","    labs_test.go:178: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-go8zj\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:178: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs in 18.937146815s\n","    labs_test.go:178: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:178:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:178:   Date: Wed, 16 Apr 2025 14:42:20 GMT\n","    labs_test.go:178:   Content-Length: 892\n","    labs_test.go:178: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-go8zj\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-go8zj\\\",\\n      \\\"labPath\\\": \\\"/home/test/.clab/gotest-eph-go8zj/gotest-eph-go8zj.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/home/test/.clab/gotest-eph-go8zj/gotest-eph-go8zj.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-go8zj-srl1\\\",\\n      \\\"container_id\\\": \\\"c20c0ea540a9\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 18 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"test\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:178: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs\n","    labs_test.go:178: Lab 'gotest-eph-go8zj' create/reconfigure request returned Status OK (200).\n","    labs_test.go:178:   `-\u003e [SETUP] Lab 'gotest-eph-go8zj' created successfully.\n","    labs_test.go:178:   `-\u003e [SETUP] Pausing for 1s after lab creation...\n","    labs_test.go:181: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    labs_test.go:181: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:181:   Content-Type: application/json\n","    labs_test.go:181: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"root\"\n","        }\n","        ---\n","    labs_test.go:181: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/login in 40.187698ms\n","    labs_test.go:181: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:181:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:181:   Date: Wed, 16 Apr 2025 14:42:21 GMT\n","    labs_test.go:181:   Content-Length: 181\n","    labs_test.go:181: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InJvb3QiLCJzdWIiOiJyb290IiwiZXhwIjo4ODE4NDU1NDc2LCJpYXQiOjE3NDQ4MTQ1NDF9.18Vuu6cBWY3hmn1x4PzT5tnPgmaiRHApE8MKWdiM9n4\"\n","        }\n","        ---\n","    labs_test.go:181: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    labs_test.go:185: [TEST] Attempting superuser reconfigure on lab 'gotest-eph-go8zj' owned by 'test' (expecting 200).\n","    labs_test.go:189: Attempting to create/reconfigure lab 'gotest-eph-go8zj'...\n","    labs_test.go:189: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true\n","    labs_test.go:189: \u003e\u003e\u003e Request Headers:\n","    labs_test.go:189:   Authorization: Bearer ********\n","    labs_test.go:189:   Content-Type: application/json\n","    labs_test.go:189: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"topologyContent\": \"# topology documentation: http://containerlab.dev/lab-examples/single-srl/\\nname: gotest-eph-go8zj\\ntopology:\\n  kinds:\\n    nokia_srlinux:\\n      type: ixrd3\\n      image: ghcr.io/nokia/srlinux\\n\\n  nodes:\\n    srl1:\\n      kind: nokia_srlinux\\n\"\n","        }\n","        ---\n","    labs_test.go:189: \u003c\u003c\u003c Response Received: Status 200 (OK) from POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true in 24.723679635s\n","    labs_test.go:189: \u003c\u003c\u003c Response Headers:\n","    labs_test.go:189:   Content-Type: application/json; charset=utf-8\n","    labs_test.go:189:   Date: Wed, 16 Apr 2025 14:42:46 GMT\n","    labs_test.go:189:   Content-Length: 882\n","    labs_test.go:189: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"output\": \"🎉 A newer containerlab version (0.67.0) is available!\\nRelease notes: https://containerlab.dev/rn/0.67/\\nRun 'sudo clab version upgrade' or see https://containerlab.dev/install/ for installation options.\\n{\\n  \\\"gotest-eph-go8zj\\\": [\\n    {\\n      \\\"lab_name\\\": \\\"gotest-eph-go8zj\\\",\\n      \\\"labPath\\\": \\\"/root/.clab/gotest-eph-go8zj/gotest-eph-go8zj.clab.yml\\\",\\n      \\\"absLabPath\\\": \\\"/root/.clab/gotest-eph-go8zj/gotest-eph-go8zj.clab.yml\\\",\\n      \\\"name\\\": \\\"clab-gotest-eph-go8zj-srl1\\\",\\n      \\\"container_id\\\": \\\"ee2e84dbf1ca\\\",\\n      \\\"image\\\": \\\"ghcr.io/nokia/srlinux\\\",\\n      \\\"kind\\\": \\\"nokia_srlinux\\\",\\n      \\\"state\\\": \\\"running\\\",\\n      \\\"status\\\": \\\"Up 23 seconds\\\",\\n      \\\"ipv4_address\\\": \\\"172.20.20.2/24\\\",\\n      \\\"ipv6_address\\\": \\\"3fff:172:20:20::2/64\\\",\\n      \\\"owner\\\": \\\"root\\\"\\n    }\\n  ]\\n}\\n\",\n","          \"warning\": \"Output was not valid JSON\"\n","        }\n","        ---\n","    labs_test.go:189: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/api/v1/labs?reconfigure=true\n","    labs_test.go:189: Lab 'gotest-eph-go8zj' create/reconfigure request returned Status OK (200).\n","    labs_test.go:199:   `-\u003e Superuser reconfigure successful.\n","    labs_test.go:202:   `-\u003e Pausing for stabilization...\n","    main_test.go:258: \u003c--- [TEARDOWN] Cleaning up ephemeral lab: gotest-eph-go8zj (as root)\n","    main_test.go:259: Attempting to destroy lab 'gotest-eph-go8zj' (cleanup=true)...\n","    main_test.go:259: \u003e\u003e\u003e Request Start: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-go8zj?cleanup=true\n","    main_test.go:259: \u003e\u003e\u003e Request Headers:\n","    main_test.go:259:   Authorization: Bearer ********\n","    main_test.go:259:   Content-Type: application/json\n","    main_test.go:259: \u003e\u003e\u003e Request Body: (empty)\n","    main_test.go:259: \u003c\u003c\u003c Response Received: Status 200 (OK) from DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-go8zj?cleanup=true in 631.004983ms\n","    main_test.go:259: \u003c\u003c\u003c Response Headers:\n","    main_test.go:259:   Content-Type: application/json; charset=utf-8\n","    main_test.go:259:   Date: Wed, 16 Apr 2025 14:42:47 GMT\n","    main_test.go:259:   Content-Length: 59\n","    main_test.go:259: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"message\": \"Lab 'gotest-eph-go8zj' destroyed successfully\"\n","        }\n","        ---\n","    main_test.go:259: \u003c\u003c\u003c Response End: DELETE http://127.0.0.1:8080/api/v1/labs/gotest-eph-go8zj?cleanup=true\n","    main_test.go:259: Lab 'gotest-eph-go8zj' destroy request returned Status OK (200).\n","    main_test.go:263:   `-\u003e [TEARDOWN] Lab 'gotest-eph-go8zj' destroy request completed.\n","    main_test.go:265:   `-\u003e [TEARDOWN] Pausing for 1s after cleanup...\n","--- PASS: TestReconfigureLabSuperuserSucceeds (47.40s)",""],"Passed":true,"Skipped":false,"TestFileName":"labs_test.go","TestFunctionDetail":{"Line":176,"Col":1}},{"TestName":"TestUnauthorizedUserLogin","Package":"github.com/srl-labs/clab-api-server/tests_go","ElapsedTime":0.02,"Output":["","=== RUN   TestUnauthorizedUserLogin\n","    auth_test.go:72: [TEST] Attempting login for unauthorized user: test2 (expecting 401).\n","    auth_test.go:79: \u003e\u003e\u003e Request Start: POST http://127.0.0.1:8080/login\n","    auth_test.go:79: \u003e\u003e\u003e Request Headers:\n","    auth_test.go:79:   Content-Type: application/json\n","    auth_test.go:79: \u003e\u003e\u003e Request Body:\n","        ---\n","        {\n","          \"password\": \"********\",\n","          \"username\": \"test2\"\n","        }\n","        ---\n","    auth_test.go:79: \u003c\u003c\u003c Response Received: Status 401 (Unauthorized) from POST http://127.0.0.1:8080/login in 23.946988ms\n","    auth_test.go:79: \u003c\u003c\u003c Response Headers:\n","    auth_test.go:79:   Content-Length: 40\n","    auth_test.go:79:   Content-Type: application/json; charset=utf-8\n","    auth_test.go:79:   Date: Wed, 16 Apr 2025 14:39:55 GMT\n","    auth_test.go:79: \u003c\u003c\u003c Response Body:\n","        ---\n","        {\n","          \"error\": \"Invalid username or password\"\n","        }\n","        ---\n","    auth_test.go:79: \u003c\u003c\u003c Response End: POST http://127.0.0.1:8080/login\n","    auth_test.go:86:   `-\u003e Received status 401. Asserting it's 401.\n","    auth_test.go:99:   `-\u003e Unauthorized user login test completed.\n","--- PASS: TestUnauthorizedUserLogin (0.02s)",""],"Passed":true,"Skipped":false,"TestFileName":"auth_test.go","TestFunctionDetail":{"Line":71,"Col":1}}]}]

    const report = window.GoTestReport({
                                         data: data,
                                         testResultsElem: document.getElementById('testResults'),
                                         testGroupListElem: document.getElementById('testGroupList')
                                       });


</script>
</body>
</html>
